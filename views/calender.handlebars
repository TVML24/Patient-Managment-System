<header>
  <h1 id="Bed-display"></h1>
  <div class="initial-hide">
    <p id="warning-text"></p>
  </div>
  <div style="text-align: center;">
    <button id="book-button" data-target="book-button" data-toggle="modal"
      style="background-color: #0c3559; color:#fff; border-radius: 5px; box-shadow: 0 9px #999; text-align: center; padding: 10px 20px; margin: 20px; font-size: 30px; border: none; cursor: pointer;"
      onmouseover="this.style.backgroundColor='#3e8e41';" onmouseout="this.style.backgroundColor='#0c3559';"
      onmousedown="this.style.backgroundColor='#3e8e41'; box-shadow: 0 5px #666; transform: translateY(4px);"
      onmouseup="this.style.backgroundColor='#0c3559';">Book this Bed</button>
  </div>
</header>
<div id="calendar"></div>
<div class="modal fade" id="new-patient-modal" tabindex="-1" aria-labelledby="new-patient-modal-label"
  aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <form id="new-patient-form">
        <div class="modal-header custom-modal-header">
          <h5 class="modal-title" id="new-patient-modal-label">Add a New Patient</h5>
          <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body">
          <div class="mb-3">
            <label for="patient-firstname-input">Patient's First Name</label>
            <input type="text" id="patient-firstname-input" class="form-control"
              placeholder="Enter the patient's first name" />
          </div>
          <div class="mb-3">
            <label for="patient-secondname-input">Patient's Second Name</label>
            <input type="text" id="patient-secondname-input" class="form-control"
              placeholder="Enter the patient's second name" />
          </div>
          <div class="mb-3">
            <label for="postcode">Postcode</label>
            <input type="text" id="postcode" class="form-control" placeholder="Enter the patient's postcode" />
          </div>
          <div class="mb-3">
            <label for="phone">Patient's Phone Number</label>
            <input type="text" id="patientphonenumber" class="form-control"
              placeholder="Enter the patient's phone number" />
          </div>
          <div class="mb-3">
            <label for="dateadmitted">Date Admitted</label>
            <input type="date" id="date-admit-input" class="form-control" />
          </div>
          <div class="mb-3">
            <label for="datedischarged">Date Discharged</label>
            <input type="date" id="date-discharge-input" class="form-control" />
          </div>
          <div class="mb-3">
            <label for="doctor-type">Attending Physician</label>
            <select id="doctor-type" class="form-select">
              <option value= "1">Stewart Johnson</option>
              <option value= "2">Krystal Meyers</option>
              <option value= "3">Ian Kelly</option>
              <option value= "4">Harry Cornish</option>
              <option value= "5">Gabrielle Lambert</option>
            </select>
          </div>
          <div class="mb-3">
            <label for="condition-input">Medical Condition</label>
            <input type="text" id="condition-input" class="form-control"
              placeholder="Enter the patient's reason for admission" />
          </div>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-outline-secondary" data-bs-dismiss="modal">Cancel</button>
          <button type="submit" class="btn btn-custom" data-bs-dismiss="modal">Add Patient</button>
        </div>
      </form>
    </div>
  </div>
</div>
<script>
  /// this gets rendered into the head of the calender page.
  document.addEventListener('DOMContentLoaded', function () {
    var calendarEl = document.getElementById('calendar');
    var bedDisplay = document.getElementById('Bed-display');
    const path = document.location.pathname.substring(document.location.pathname.lastIndexOf('/') + 1);
    bedDisplay.innerHTML = "Bed Number: " + path;
    var calendar = new FullCalendar.Calendar(calendarEl, {
      initialView: 'dayGridMonth',
      initialDate: '2023-04-02',
      headerToolbar: {
        left: 'prev,next today',
        center: 'title',
        right: 'dayGridMonth,timeGridWeek,timeGridDay'
      },
      events:
        {{{ data }}}
        });
  calendar.render();
  calendar.setOption('aspectRatio', 2.2);
      });
</script>
<script>
  var myModal = new bootstrap.Modal(document.getElementById('new-patient-modal'))
  var showButton = document.getElementById('book-button');
  myModal.hide();
  showButton.addEventListener("click", showModal);
  function showModal() {
    myModal.show();
  }
</script>
<script src="/js/calender.js"></script>